<!doctype html>
<head>
  <script type="text/javascript" src="https://www.google.com/jsapi?key=ABQIAAAAY-Lo7xQQjw2KtaKDgwLbFBShyhCcQbTnWyZZb_B2QMXxZCh9kxTQY6MXPrS0KhZmYBqjlgEVQ18rHg"></script>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
  <script type="text/javascript" src="js/vendor/mustache.js"></script>
  <script type="text/javascript" src="js/piewpiew.js"></script>

</head>
<body>
  <script id="tmpl-myView" type="text/mustache">
    <h1>View</h1>
    <div>{{id}}</div>
  </script>

  <div id="content"></div>

  <script type="text/javascript">
      
    piewpiew.require(["piewpiew.data.model", "piewpiew.data.validators"], function(model, validators) {
      // Test a validator
      console.log("ready");

      var field = new model.CharField({
        required:true,
        requiredMessage:"this is required mate",
        invalidTypeMessage:"string mate, string",
        validators:{
          length: new validators.StringValidator({minLength:2, maxLength:4})
        }
      });

      console.log(field.validate("a"));
      console.log(field.constructor);

      var Person = model.Model.extend({
        name: new model.CharField()
      });

      var p = new Person();
      console.log(p);
      p.setName("bre");
      console.log(p.getName());
      
    })
  </script>
</body>
